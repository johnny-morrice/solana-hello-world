FROM my-solana-base:latest
RUN solana config set --url localhost
RUN solana-keygen new
COPY example-helloworld /app/
WORKDIR /app/example-helloworld
RUN npm install
RUN ls
RUN pwd
RUN npm build:program-rust
RUN npm build:program-c
RUN solana program deploy dist/program/helloworld.so
ENTRYPOINT [ "script/solana-wrapper.sh" ]